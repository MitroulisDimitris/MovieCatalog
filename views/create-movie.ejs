<!DOCTYPE html>
<html>
    <head>
        <title>User Profile</title>
        <link rel="stylesheet" href="./assets/create-movie-styles.css"/>
        <script
            src="https://code.jquery.com/jquery-3.6.3.js"
            integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM="
            crossorigin="anonymous">
        </script>
    </head>
    <body>
        <nav>
            <ul>
              <li><a href="/search">Search</a></li>
              <li><a href="/profile">Profile</a></li>
              <li><a href="/login">Login</a></li>
            </ul>
          </nav>

        <form id="form" class="movie-form" action="/create-movie" method="POST" enctype="multipart/form-data">
            <div>
                <label for="image">Upload Image:</label>
                <input type="file" name="image" id="image" accept="image/jpeg,image/png" required>
            </div>
            <div>
                <label for="title">Title:</label>
                <input type="text" id="title" name="title">
            </div>
            <div>
                <label for="year">Year:</label>
                <input type="number" id="year" name="year">
            </div>
            <div>
            <label>Genres:</label>
                <input type="checkbox" id="action" name="genre" value="Action">
                <label for="action">Action</label>
                <input type="checkbox" id="comedy" name="genre" value="Comedy">
                <label for="comedy">Comedy</label>
                <input type="checkbox" id="drama" name="genre" value="Drama">
            </div>
            <div>
                <label for="director">Director:</label>
                <input type="text" id="director" name="director">
            </div>
            <div>
                <label for="plot">Plot:</label>
                <textarea id="plot" name="plot"></textarea>
            </div>
            <div>
                <label for="rating">Rating:</label>
                <input type="number" id="rating" name="rating" min="0" max="10" step="0.1">
            </div>
            <div>
                <label for="trailer">Trailer:</label>
                <input type="text" id="trailer" name="trailer">
            </div>
            <div>
                <label>Now Playing:</label>
                <input type="checkbox" id="nowPlaying" name="nowPlaying" value="true">
                <label for="nowPlaying">Yes</label>
            </div>
            <div>
                <label for="actors">Actors:</label>
                <textarea id="actors" name="actors"></textarea>
            </div>
            <button type="submit">Submit</button>
        </form>
          <!--<script>
           const formElem = document.querySelector('#form');
            formElem.addEventListener('submit', async (e) => {
                e.preventDefault();
                const formData = new FormData(formElem);
                const imageInput = formElem.querySelector('input[type="file"]');
                const imageFile = imageInput.files[0];
                formData.append('image', imageFile);
                console.log(formData);

                const xhr = new XMLHttpRequest(); // create a new XMLHttpRequest object

                xhr.open('POST', '/create-movie'); // specify the URL and HTTP method
              
                // set the XHR headers to indicate that we are sending form data
                xhr.setRequestHeader('Content-Type', 'multipart/form-data');
                
                // handle the response from the server
                xhr.addEventListener('load', () => {  
                  console.log(xhr.responseText);
                });
              
                xhr.send(formData); // send the FormData object to the server
            }); 
          </script>-->
    </body>
</html>